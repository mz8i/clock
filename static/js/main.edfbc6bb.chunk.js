(this["webpackJsonpclock-challenge"]=this["webpackJsonpclock-challenge"]||[]).push([[0],{27:function(t,e,n){},32:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(18),i=n.n(a),o=(n(27),n(4)),u=n(8),s=n(12);n(32);function l(t){var e=t.getSeconds(),n=t.getMinutes()+e/60;return{hour:(t.getHours()+n/60)%12,minute:n,second:e}}function d(t){var e=t,n=Math.floor(t/36e5);e-=36e5*n;var r=Math.floor(e/6e4),c=(e-=6e4*r)/1e3,a=r+c/60;return{hour:(n+a/60)%12,minute:a,second:c}}var j,p=n(1),f={hour:{length:50,width:6,color:"black",cap:"round"},minute:{length:80,width:4,color:"black",cap:"round"},second:{length:90,width:1,color:"red",cap:"square"}},b=function(t){var e=t.type,n=t.positionDegrees,r=t.animating,c=void 0!==r&&r,a=f[e],i=a.length,o=a.width,u=a.color,s=a.cap;return Object(p.jsx)("line",{x1:0,y1:0,x2:0,y2:-i,transform:"rotate(".concat(n,")"),strokeWidth:o,strokeLinecap:s,stroke:c?"gray":u})},h=function(t){var e=t.tick;return Object(p.jsx)("circle",{cx:"0",cy:"-100",r:e%1?"0":e%5?"1":e%15?"2":"3",fill:"gray",strokeWidth:"0",transform:"rotate(".concat(6*e,")")})},g=Array(60).fill(0).map((function(t,e){return e})),O=function(t){var e=t.time,n=e.hour,r=e.minute,c=e.second,a=t.animatingDials,i=30*n,o=6*r,u=6*c;return Object(p.jsxs)(p.Fragment,{children:[g.map((function(t){return Object(p.jsx)(h,{tick:t},t)})),Object(p.jsx)(b,{type:"hour",positionDegrees:i,animating:null===a||void 0===a?void 0:a.hour}),Object(p.jsx)(b,{type:"minute",positionDegrees:o,animating:null===a||void 0===a?void 0:a.minute}),Object(p.jsx)(b,{type:"second",positionDegrees:u,animating:null===a||void 0===a?void 0:a.second}),Object(p.jsx)("circle",{r:5,fill:"black"})]})},m=function(t){var e=t.children,n=t.title;return Object(p.jsxs)("svg",{height:"250",width:"250",children:[Object(p.jsx)("title",{children:n}),Object(p.jsx)("g",{transform:"translate(125,125)",children:e})]})},v=n(3),x=n(9),S=n.n(x);function k(t,e,n,r,c,a){var i,o=r*n;return o>=function(t,e,n,r){if(e===t)return 0;var c=1===r?[t,e]:[e,t],a=Object(v.a)(c,2),i=a[0],o=a[1];return o>i?o-i:o+n-i}(t,e,a,c)?e:((t+o*c)%(i=a)+i)%i}function w(t,e,n,c){var a=Object(r.useRef)(e),i=function(t){var e=Object(r.useRef)(null);return Object(r.useEffect)((function(){e.current=t})),e.current}(t),o=Object(r.useState)(j.Idle),u=Object(v.a)(o,2),s=u[0],l=u[1],d=Object(r.useState)(null),p=Object(v.a)(d,2),f=p[0],b=p[1],h=Object(r.useState)(1),g=Object(v.a)(h,2),O=g[0],m=g[1],x=c.speed,S=c.period,w=Object(r.useCallback)((function(){if(null!=f&&null!=i){var e=t-i;a.current=k(a.current,f,e,x,O,S),a.current===f&&l(j.Finished)}}),[t,i,f,x,O,S]);return Object(r.useEffect)((function(){if(n){if(s===j.Idle)return;s===j.Interpolating?w():a.current=e}else a.current=e}),[t,i,n,s,e,w]),Object(r.useEffect)((function(){n&&s===j.Idle?l(j.Interpolating):n||s!==j.Finished||l(j.Idle)}),[n,s]),Object(r.useEffect)((function(){b(e),s===j.Interpolating&&m(function(t,e,n){var r=n/2,c=e-t,a=Math.abs(c),i=Math.sign(c);return t===e?1:a<r?i:a>r?-i:1}(a.current,e,S))}),[e,S,s]),{value:a.current,status:s}}!function(t){t[t.Idle=0]="Idle",t[t.Interpolating=1]="Interpolating",t[t.Finished=2]="Finished"}(j||(j={}));var y={period:12,speed:.012},R={period:60,speed:.06},C={period:60,speed:.06};var I,T,M,P=n(14);!function(t){t[t.Stopped=0]="Stopped",t[t.Running=1]="Running",t[t.Paused=2]="Paused"}(T||(T={})),function(t){t[t.Start=0]="Start",t[t.Pause=1]="Pause",t[t.Reset=2]="Reset"}(M||(M={}));var D=(I={},Object(o.a)(I,T.Stopped,[M.Start,M.Reset]),Object(o.a)(I,T.Running,[M.Pause,M.Reset]),Object(o.a)(I,T.Paused,[M.Start,M.Reset]),I);function F(t,e){if(!D[t.runState].includes(e.type))throw new Error("Invalid action ".concat(e.type," for state ").concat(t.runState));if(e.type===M.Reset)return E();if(e.type===M.Start)return Object(P.a)(Object(P.a)({},t),{},{runState:T.Running,currentStartTimestamp:e.timestamp});if(e.type===M.Pause){if(null===t.currentStartTimestamp)throw new Error("currentStartTimeStamp is null but runState is Running");var n=e.timestamp-t.currentStartTimestamp;return{runState:T.Paused,timeAccruedBeforeCurrent:t.timeAccruedBeforeCurrent+n,currentStartTimestamp:null}}return t}function E(){return{runState:T.Stopped,timeAccruedBeforeCurrent:0,currentStartTimestamp:null}}var A=n(19);var B,L,U,J=n(10),N=n(11),V=N.a.button(B||(B=Object(J.a)(["\n  display: block;\n  background-color: palevioletred;\n  color: white;\n  border: none;\n  box-shadow: none;\n  border-radius: 10px;\n  padding: 10px 5px;\n  margin: 5px 2px;\n  width: 100%;\n  text-transform: uppercase;\n\n  :hover {\n    background-color: #ff8c8c;\n  }\n"]))),W=N.a.div(L||(L=Object(J.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),q=N.a.h3(U||(U=Object(J.a)(["\n  color: #aaa;\n  text-align: center;\n  margin: 0.5em;\n"])));function H(t){var e=Math.floor(t/36e5),n=new Date(t);return"".concat(e,":").concat(z(n.getUTCMinutes()),":").concat(z(n.getUTCSeconds()),".").concat(z(n.getUTCMilliseconds(),3))}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(t).padStart(e,"0")}var G=function(){var t,e,n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=Object(r.useState)(new Date),n=Object(v.a)(e,2),c=n[0],a=n[1];return Object(A.a)((function(){return a(new Date)}),t),c}(),c=n.getTime(),a=function(t){var e=Object(r.useReducer)(F,E()),n=Object(v.a)(e,2),c=n[0],a=n[1],i=c.runState,o=c.timeAccruedBeforeCurrent,u=c.currentStartTimestamp,s=null===u?0:Math.max(0,t-u);return{state:c,timeMs:i===T.Running?o+s:o,dispatch:a}}(c),i=a.state.runState,f=a.timeMs,b=a.dispatch,h=(e=f,12*Math.floor(e/432e5)),g=function(t,e){var n=Object(r.useState)(t),c=Object(v.a)(n,2),a=c[0],i=c[1],o=a===t?e:t,u=Object(r.useCallback)((function(){i(a===t?e:t)}),[a,t,e]);return{current:a,toggle:u,other:o}}("clock","stopwatch"),x={clock:l(n),stopwatch:d(f)},k=function(t,e,n){var c=Object(r.useState)(e),a=Object(v.a)(c,2),i=a[0],o=a[1],u=Object(r.useState)(!1),s=Object(v.a)(u,2),l=s[0],d=s[1],p=n[i],f={hour:w(t,p.hour,l,y),minute:w(t,p.minute,l,R),second:w(t,p.second,l,C)};return l&&S()(f).every((function(t){return t.status===j.Finished}))&&d(!1),Object(r.useEffect)((function(){e!==i&&(o(e),d(!0))}),[e,i]),{value:S.a.mapValues(f,(function(t){return t.value})),interpolating:S.a.mapValues(f,(function(t){return t.status===j.Interpolating}))}}(c,g.current,x),I=k.value,P=k.interpolating,D=g.current;return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("div",{className:"clock",children:[Object(p.jsxs)(m,{title:"clock"===D?"Clock: ".concat(n.toLocaleTimeString()):"Stopwatch: ".concat(H(f)),children:[Object(p.jsx)(O,{time:I,animatingDials:P}),"stopwatch"===D&&h&&Object(p.jsxs)("text",{x:"125",y:"100",textAnchor:"end",children:["+",h,"h"]})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)(V,{onClick:g.toggle,children:["Switch to ",g.other]}),"stopwatch"===D&&Object(p.jsxs)("div",{style:{marginTop:"2em"},children:[Object(p.jsxs)(q,{children:["Stopwatch",(t={},Object(o.a)(t,T.Running," running..."),Object(o.a)(t,T.Paused," paused"),Object(o.a)(t,T.Stopped,""),t)[i]]}),Object(p.jsxs)(W,{children:[i!==T.Running&&Object(p.jsxs)(V,{onClick:function(){return b({type:M.Start,timestamp:Date.now()})},children:[Object(p.jsx)(u.a,{icon:s.b})," ",i===T.Stopped?"Start":"Resume"]}),i===T.Running&&Object(p.jsxs)(V,{onClick:function(){return b({type:M.Pause,timestamp:Date.now()})},children:[Object(p.jsx)(u.a,{icon:s.a})," Pause"]}),i!==T.Stopped&&Object(p.jsxs)(V,{onClick:function(){return b({type:M.Reset})},children:[Object(p.jsx)(u.a,{icon:s.c})," Reset"]})]})]})]})]})})},K=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(G,{})}),document.getElementById("root")),K()}},[[36,1,2]]]);
//# sourceMappingURL=main.edfbc6bb.chunk.js.map